<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - HARAMAIN INSIGHTS</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <h1><a href="index.html">HARAMAIN INSIGHTS</a></h1>
        <nav>
            <div class="nav-links" id="nav-links">
                <a href="index.html">Home</a>
                <a href="gallery.html">Gallery</a>
            </div>
            <span id="user-session">
                <a href="signin.html" id="signin-link" class="user-icon-link" aria-label="Sign In">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </a>
            </span>
            <a href="notifications.html" id="notification-link" class="notification-icon-link" aria-label="Notifications">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span id="notification-count" class="notification-badge hidden"></span>
                </a>

            <button id="theme-toggle" class="theme-toggle-btn">ðŸŒ™</button>
            <button id="menu-toggle" class="menu-toggle" aria-label="Toggle menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </nav>
    </header>

    <main class="about-main">
        <div class="about-content">
            <h2>Our Project: A Journey Reimagined</h2>
            <p>
                The HARAMAIN INSIGHTS proudly presents a meticulously crafted miniature model that illustrates the sacred journey between Makkah and Madinah. This detailed exhibit features 45 significant centers, capturing the essence of the pilgrimage from start to finish.
            </p>
            <p>
                Our model provides a comprehensive view of the holy pilgrimage, detailing indispensable sacred sites, vibrant landscapes, and the historic pathways that connect them. To achieve the highest degree of accuracy and reflect the ongoing developments in the holy cities, we have utilized modern satellite views, helicam footage, and the invaluable advice of experienced pilgrims. The result is a current and vivid depiction of Makkah and Madinah.
            </p>
            <p>
                To create a truly interactive and educational experience, we have integrated modern technology. Each of the 45 locations on the model is equipped with a unique QR code, allowing visitors to access detailed information, historical context, and rich media content directly on their devices.
            </p>

            <hr class="section-divider">

            <h2>Interactive Journey Map</h2>
            <p>Explore our detailed map of the Hijra route from Makkah to Madinah. Use your mouse wheel to zoom and click and drag to pan across the landscape.</p>
            <div class="map-container">
                <div class="map-controls">
                    <button id="zoom-in-btn">+</button>
                    <button id="zoom-out-btn">-</button>
                    <button id="reset-btn">âŸ²</button>
                </div>
                <img src="hijra-map.png" alt="Interactive Map of the Hijra Route" id="hijra-map">
            </div>

            <hr class="section-divider">

            <h2>References & Further Reading</h2>
            <p>This project was developed by referencing authoritative historical texts and scholarly works. For those interested in learning more, we recommend the following books:</p>
            <div class="reference-grid">
                <div class="reference-item">
                    <img src="https://placehold.co/250x375/2c3e50/ffffff?text=The+Sealed+Nectar" alt="Book cover for The Sealed Nectar">
                    <h3>Ar-Raheeq Al-Makhtum</h3>
                    <p class="author">Safiur Rahman Mubarakpuri</p>
                </div>
                <div class="reference-item">
                    <img src="https://placehold.co/250x375/1abc9c/ffffff?text=Muhammad" alt="Book cover for Muhammad by Martin Lings">
                    <h3>Muhammad: His Life Based on the Earliest Sources</h3>
                    <p class="author">Martin Lings</p>
                </div>
                <div class="reference-item">
                    <img src="https://placehold.co/250x375/34495e/ffffff?text=History+of+Makkah" alt="Book cover for History of Makkah">
                    <h3>Akhbar Makkah</h3>
                    <p class="author">Al-Azraqi</p>
                </div>
                 <div class="reference-item">
                    <img src="https://placehold.co/250x375/95a5a6/2c3e50?text=Mecca" alt="Book cover for Mecca: The Sacred City">
                    <h3>Mecca: The Sacred City</h3>
                    <p class="author">Ziauddin Sardar</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 <a href="https://www.google.com/search?q=Basith+Paravoor" target="_blank" rel="noopener noreferrer">Basith Paravoor</a>. All Rights Reserved.</p>
    </footer>
    
    <script src="notification-data.js"></script>
    <script src="theme.js"></script>
    <script src="user.js"></script>
    <script src="nav.js"></script>
    <script src="notifications.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const container = document.querySelector('.map-container');
        const mapImage = document.querySelector('#hijra-map');
        const zoomInBtn = document.getElementById('zoom-in-btn');
        const zoomOutBtn = document.getElementById('zoom-out-btn');
        const resetBtn = document.getElementById('reset-btn');

        if (!container || !mapImage) return;

        let scale = 1;
        let isPanning = false;
        let pointX = 0;
        let pointY = 0;
        let start = { x: 0, y: 0 };
        const maxScale = 10;
        const minScale = 1;
        const zoomFactor = 1.2;

        function setTransform(transition = false) {
            mapImage.style.transition = transition ? 'transform 0.3s ease' : 'none';
            mapImage.style.transform = `translate(${pointX}px, ${pointY}px) scale(${scale})`;
        }

        function updateZoom(newScale, mouseX, mouseY) {
            const oldScale = scale;
            scale = Math.max(minScale, Math.min(maxScale, newScale));

            const containerRect = container.getBoundingClientRect();
            const x = mouseX - containerRect.left;
            const y = mouseY - containerRect.top;

            pointX = x - (x - pointX) * scale / oldScale;
            pointY = y - (y - pointY) * scale / oldScale;

            setTransform(true);
        }

        container.addEventListener('mousedown', (e) => {
            e.preventDefault();
            isPanning = true;
            start = { x: e.clientX - pointX, y: e.clientY - pointY };
            container.style.cursor = 'grabbing';
        });

        container.addEventListener('mouseup', () => {
            isPanning = false;
            container.style.cursor = 'grab';
        });

        container.addEventListener('mouseleave', () => {
            isPanning = false;
            container.style.cursor = 'grab';
        });

        container.addEventListener('mousemove', (e) => {
            if (!isPanning) return;
            e.preventDefault();
            pointX = (e.clientX - start.x);
            pointY = (e.clientY - start.y);
            setTransform();
        });

        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            const newScale = e.deltaY > 0 ? scale / zoomFactor : scale * zoomFactor;
            updateZoom(newScale, e.clientX, e.clientY);
        });

        zoomInBtn.addEventListener('click', () => {
            const containerRect = container.getBoundingClientRect();
            const centerX = containerRect.left + containerRect.width / 2;
            const centerY = containerRect.top + containerRect.height / 2;
            updateZoom(scale * zoomFactor, centerX, centerY);
        });

        zoomOutBtn.addEventListener('click', () => {
            const containerRect = container.getBoundingClientRect();
            const centerX = containerRect.left + containerRect.width / 2;
            const centerY = containerRect.top + containerRect.height / 2;
            updateZoom(scale / zoomFactor, centerX, centerY);
        });

        resetBtn.addEventListener('click', () => {
            scale = 1;
            pointX = 0;
            pointY = 0;
            setTransform(true);
        });
    });
    </script>
</body>
</html>